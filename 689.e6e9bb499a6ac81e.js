"use strict";(self.webpackChunkaristo_frontend=self.webpackChunkaristo_frontend||[]).push([[689],{2689:(Z,d,i)=>{i.r(d),i.d(d,{DailyCheckModule:()=>j});var h=i(9808),r=i(1083),t=i(5e3),f=i(9646),C=i(9788),m=i(3996);let _=(()=>{class e extends C.c{list(){return(0,f.of)(m.wI)}}return e.\u0275fac=function(){let n;return function(a){return(n||(n=t.n5z(e)))(a||e)}}(),e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=i(9224),l=i(7322),v=i(7531),p=i(6856),k=i(7423),s=i(4999),y=i(3874);function D(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1,"T"),t.qZA())}function x(e,n){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.room.type.name)}}function A(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," Habitaci\xf3n "),t.qZA())}function R(e,n){if(1&e&&(t.TgZ(0,"td",22),t._uU(1),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Oqu(o.room.code)}}function L(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," Nombre hu\xe9sped "),t.qZA())}function U(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit,a=t.oxw();t.xp6(1),t.Oqu(a.getGuests(o.guests))}}function N(e,n){if(1&e&&(t.TgZ(0,"td",22),t.YNc(1,U,2,1,"span",23),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("ngIf",o.guests)}}function Y(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," Check In "),t.qZA())}function E(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,o.booking.checkin,"dd/MM/yyyy"))}}function I(e,n){if(1&e&&(t.TgZ(0,"td",22),t.YNc(1,E,3,4,"span",23),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("ngIf",o.booking)}}function M(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," Check Out "),t.qZA())}function S(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,o.booking.checkout,"dd/MM/yyyy"))}}function O(e,n){if(1&e&&(t.TgZ(0,"td",22),t.YNc(1,S,3,4,"span",23),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("ngIf",o.booking)}}function q(e,n){1&e&&(t.TgZ(0,"th",21),t._uU(1," Total "),t.qZA())}function B(e,n){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const o=t.oxw().$implicit;t.xp6(1),t.Oqu(o.booking.balance)}}function $(e,n){if(1&e&&(t.TgZ(0,"td",22),t.YNc(1,B,2,1,"span",23),t.qZA()),2&e){const o=n.$implicit;t.xp6(1),t.Q6J("ngIf",o.booking)}}function Q(e,n){1&e&&(t.TgZ(0,"th",24),t._uU(1,"M\xe1s informaci\xf3n"),t.qZA())}const J=function(e,n){return[e,"room",n]};function F(e,n){if(1&e&&(t.TgZ(0,"td",25),t.TgZ(1,"a",26),t.TgZ(2,"mat-icon"),t._uU(3,"toc"),t.qZA(),t.qZA(),t.qZA()),2&e){const o=n.$implicit,a=t.oxw();t.xp6(1),t.Q6J("routerLink",t.WLB(1,J,a.currentParam?"../"+a.date:a.date,o.room.id))}}function P(e,n){1&e&&t._UZ(0,"tr",27)}function z(e,n){1&e&&t._UZ(0,"tr",28)}let T=(()=>{class e{constructor(o,a,u){this.dailyChecksS=o,this.activatedRoute=a,this.router=u,this.displayedColumns=["type","code","guests_names","checkin","checkout","total","actions"],this.date=(this.currentParam=this.activatedRoute.snapshot.params.DATE)?this.activatedRoute.snapshot.params.DATE:(new Date).toISOString().split("T")[0],this.dailyChecksS.list().subscribe(g=>this.roomReports=g)}ngOnInit(){}getGuests(o){return o.map(a=>a.names+" "+a.surnames).join(", ")}setAuxDate(o){var a;this.auxDate=null===(a=o.value)||void 0===a?void 0:a.toISOString().split("T")[0]}redirectDateParam(){this.currentParam=this.date=this.auxDate,this.router.navigate(this.activatedRoute.snapshot.params.DATE?[`../${this.date}`]:[this.date],{relativeTo:this.activatedRoute})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(_),t.Y36(r.gz),t.Y36(r.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-check-list"]],decls:39,vars:6,consts:[[1,"title"],["appearance","fill",1,"example-form-field"],["matInput","",3,"matDatepicker","value","dateChange"],["matSuffix","",3,"for"],["datepicker",""],["mat-button","","matDatepickerCancel",""],["mat-raised-button","","color","primary","matDatepickerApply","",3,"click"],["mat-table","",1,"mat-elevation-z1","w-100",3,"dataSource"],["matColumnDef","type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","code"],["matColumnDef","guests_names"],["matColumnDef","checkin"],["matColumnDef","checkout"],["matColumnDef","total"],["matColumnDef","actions"],["mat-header-cell","","style","text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[4,"ngIf"],["mat-header-cell","",2,"text-align","center"],["mat-cell","",2,"text-align","center"],["mat-mini-fab","","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(o,a){if(1&o&&(t.TgZ(0,"mat-card"),t.TgZ(1,"h1",0),t._uU(2,"Control diario"),t.qZA(),t.TgZ(3,"mat-form-field",1),t.TgZ(4,"mat-label"),t._uU(5,"Elije una fecha"),t.qZA(),t.TgZ(6,"input",2),t.NdJ("dateChange",function(g){return a.setAuxDate(g)}),t.qZA(),t._UZ(7,"mat-datepicker-toggle",3),t.TgZ(8,"mat-datepicker",null,4),t.TgZ(10,"mat-datepicker-actions"),t.TgZ(11,"button",5),t._uU(12,"Cancelar"),t.qZA(),t.TgZ(13,"button",6),t.NdJ("click",function(){return a.redirectDateParam()}),t._uU(14,"Cambiar fecha"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(15,"table",7),t.ynx(16,8),t.YNc(17,D,2,0,"th",9),t.YNc(18,x,2,1,"td",10),t.BQk(),t.ynx(19,11),t.YNc(20,A,2,0,"th",9),t.YNc(21,R,2,1,"td",10),t.BQk(),t.ynx(22,12),t.YNc(23,L,2,0,"th",9),t.YNc(24,N,2,1,"td",10),t.BQk(),t.ynx(25,13),t.YNc(26,Y,2,0,"th",9),t.YNc(27,I,2,1,"td",10),t.BQk(),t.ynx(28,14),t.YNc(29,M,2,0,"th",9),t.YNc(30,O,2,1,"td",10),t.BQk(),t.ynx(31,15),t.YNc(32,q,2,0,"th",9),t.YNc(33,$,2,1,"td",10),t.BQk(),t.ynx(34,16),t.YNc(35,Q,2,0,"th",17),t.YNc(36,F,4,4,"td",18),t.BQk(),t.YNc(37,P,1,0,"tr",19),t.YNc(38,z,1,0,"tr",20),t.qZA(),t.qZA()),2&o){const u=t.MAs(9);t.xp6(6),t.Q6J("matDatepicker",u)("value",a.date),t.xp6(1),t.Q6J("for",u),t.xp6(8),t.Q6J("dataSource",a.roomReports),t.xp6(22),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns)}},directives:[c.a8,l.KE,l.hX,v.Nt,p.hl,p.nW,l.R9,p.Mq,p.M5,k.lW,p.dp,p.DK,s.BZ,s.w1,s.fO,s.ge,s.Dz,s.ev,h.O5,k.zs,r.yS,y.Hw,s.as,s.XQ,s.nj,s.Gk],pipes:[h.uU],styles:[""]}),e})();const b=[{path:"",component:T},{path:":DATE",children:[{path:"",component:T},{path:"room/:ID",component:(()=>{class e{constructor(o){var a;this.activatedRoute=o,this.roomId=this.activatedRoute.snapshot.params.ID,this.date=new Date(null===(a=this.activatedRoute.snapshot.parent)||void 0===a?void 0:a.params.DATE)}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(r.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-room-check-details"]],decls:4,vars:2,template:function(o,a){1&o&&(t.TgZ(0,"p"),t._uU(1),t._UZ(2,"br"),t._uU(3),t.qZA()),2&o&&(t.xp6(1),t.hij("ID: ",a.roomId," "),t.xp6(2),t.hij(" ",a.date,"\n"))},styles:[""]}),e})()}]}];let w=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.Bz.forChild(b)],r.Bz]}),e})();var W=i(898);let j=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[h.ez,w,W.q]]}),e})()},9788:(Z,d,i)=>{i.d(d,{c:()=>C});var h=i(520),r=i(2340),t=i(5e3),f=i(4869);let C=(()=>{class m{constructor(c,l){this.http=c,this.cookiesS=l,this.backendURL=r.N.backendURL,this.url=this.backendURL+this.entityString,this.headers=new h.WM({Authorization:`Bearer ${this.cookiesS.getCookie("aristo_token")}`})}getById(c){return this.http.get(`${this.url}/${c}`,{headers:this.headers})}list(){return this.http.get(`${this.url}`,{headers:this.headers})}save(c){return this.http.post(this.url,c,{headers:this.headers})}update(c,l){return this.http.put(`${this.url}/${c}`,l,{headers:this.headers})}remove(c){return this.http.delete(`${this.url}/${c}`,{headers:this.headers})}get entityString(){return"no"}}return m.\u0275fac=function(c){return new(c||m)(t.LFG(h.eN),t.LFG(f.F))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),m})()}}]);