"use strict";(self.webpackChunkaristo_frontend=self.webpackChunkaristo_frontend||[]).push([[502],{6502:(_t,q,r)=>{r.r(q),r.d(q,{CompaniesModule:()=>gt});var _=r(9808),p=r(1083),l=r(4999),x=r(9980),Z=r(8966),t=r(5e3),u=r(7423);function b(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"div"),t.TgZ(1,"input",6,7),t.NdJ("change",function(m){return t.CHM(a),t.oxw().extractFilename(m)}),t.qZA(),t.TgZ(3,"button",8),t.NdJ("click",function(){return t.CHM(a),t.MAs(2).click()}),t._uU(4),t.qZA(),t.TgZ(5,"div",9),t._uU(6),t.qZA(),t.qZA()}if(2&e){const a=t.oxw();t.xp6(1),t.Q6J("accept",a.data.accept),t.xp6(3),t.Oqu(a.data.label),t.xp6(2),t.hij(" ",a.filename," ")}}let U=(()=>{class e{constructor(a,n){this.dialogRef=a,this.data=n}ngOnInit(){}extractFilename(a){let n=a.target.value.split("\\");this.filename=n[n.length-1]}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(Z.so),t.Y36(Z.WI))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-single-input-dialog"]],decls:12,vars:6,consts:[["mat-dialog-title",""],[1,"mat-typography"],[4,"ngIf"],["align","end"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","cdkFocusInitial","",3,"mat-dialog-close","color"],["type","file","hidden","",3,"accept","change"],["input",""],["mat-raised-button","","color","primary",1,"w-100",3,"click"],[1,"text-center","mt-2"]],template:function(a,n){1&a&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"mat-dialog-content",1),t.TgZ(3,"div"),t._uU(4),t.qZA(),t._UZ(5,"br"),t.YNc(6,b,7,3,"div",2),t.qZA(),t.TgZ(7,"mat-dialog-actions",3),t.TgZ(8,"button",4),t._uU(9,"Cancelar"),t.qZA(),t.TgZ(10,"button",5),t._uU(11),t.qZA(),t.qZA()),2&a&&(t.xp6(1),t.Oqu(n.data.title),t.xp6(3),t.Oqu(n.data.description),t.xp6(2),t.Q6J("ngIf","file"==n.data.type),t.xp6(4),t.Q6J("mat-dialog-close",!0)("color",n.data.color),t.xp6(1),t.Oqu(n.data.okMessage))},directives:[Z.uh,Z.xY,_.O5,u.lW,Z.H8,Z.ZT],styles:[""]}),e})();var T=r(459),A=r(7261),g=r(9224),c=r(7322),h=r(7531),y=r(3874),I=r(9062);function N(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"NIT"),t.qZA())}function D(e,o){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Oqu(a.nit)}}function S(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1,"Nombre"),t.qZA())}function k(e,o){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Oqu(a.name)}}function w(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1," Phone "),t.qZA())}function L(e,o){if(1&e&&(t.TgZ(0,"td",21),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Oqu(a.phone)}}function R(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1," Email "),t.qZA())}function Y(e,o){if(1&e&&(t.TgZ(0,"td",21),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const a=o.$implicit;t.xp6(2),t.Oqu(a.email?a.email:"Sin correo")}}function E(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1," Retefuente "),t.qZA())}function O(e,o){if(1&e&&(t.TgZ(0,"td",21),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const a=o.$implicit;t.xp6(2),t.Oqu(a.stronghold?"Si":"No")}}function Q(e,o){1&e&&(t.TgZ(0,"th",20),t._uU(1," ICA "),t.qZA())}function J(e,o){if(1&e&&(t.TgZ(0,"td",21),t.TgZ(1,"span"),t._uU(2),t.qZA(),t.qZA()),2&e){const a=o.$implicit;t.xp6(2),t.Oqu(a.tic?a.tic+" x 1.000":"No")}}function M(e,o){1&e&&(t.TgZ(0,"th",22),t._uU(1,"Acciones"),t.qZA())}const z=function(e){return[e]};function F(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"td",23),t.TgZ(1,"button",24),t.NdJ("click",function(){const s=t.CHM(a).$implicit;return t.oxw().uploadSTR(s)}),t._uU(2," RUT "),t.qZA(),t.TgZ(3,"a",25),t.TgZ(4,"mat-icon"),t._uU(5,"toc"),t.qZA(),t.qZA(),t.TgZ(6,"button",26),t.NdJ("click",function(){const s=t.CHM(a).$implicit;return t.oxw().showDeleteDialog(s)}),t.TgZ(7,"mat-icon"),t._uU(8,"delete"),t.qZA(),t.qZA(),t.qZA()}if(2&e){const a=o.$implicit;t.xp6(3),t.Q6J("routerLink",t.VKq(1,z,a.id))}}function B(e,o){1&e&&t._UZ(0,"tr",27)}function P(e,o){1&e&&t._UZ(0,"tr",28)}const j=function(){return[25,50]};let H=(()=>{class e{constructor(a,n,m){this.companiesS=a,this.dialog=n,this.snackBar=m,this.displayedColumns=["nit","name","phone","email","stronghold","tic","actions"],this.companiesS.list().subscribe(s=>this.dataSource=new l.by(s))}ngOnInit(){}applyFilter(a){this.dataSource.filter=a.target.value.trim().toLowerCase()}showDeleteDialog(a){this.dialog.open(x.$,{width:"300px",data:{title:"Eliminar empresa",color:"warn",okMessage:"Si, eliminar",question:`\xbfConfirmas que quieres eliminar la empresa ${a.name}?`}}).afterClosed().subscribe(m=>{m&&this.companiesS.remove(a.id).subscribe({next:s=>{"success"==s.type?(this.snackBar.open(`Se ha eliminado la empresa ${a.name}`,"Ok",{horizontalPosition:"end",verticalPosition:"top",duration:3e3}),this.companiesS.list().subscribe(d=>this.companies=d)):this.snackBar.open("Ocurri\xf3 un en error en el servidor, por favor intenta de nuevo","Ok",{horizontalPosition:"end",verticalPosition:"top",duration:3e3})},error:()=>this.snackBar.open("Ocurri\xf3 un en error en el servidor, por favor intenta de nuevo","Ok",{horizontalPosition:"end",verticalPosition:"top",duration:3e3})})})}uploadSTR(a){this.dialog.open(U,{width:"400px",data:{title:"Asignar RUT",color:"accent",type:"file",label:"Seleccionar archivo RUT",accept:"application/pdf",okMessage:"Subir archivo",description:`Por favor selecciona el archivo RUT de ${a.name}`}})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(T.t),t.Y36(Z.uw),t.Y36(A.ux))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-list-companies"]],decls:37,vars:5,consts:[[1,"title"],["appearance","fill"],["matInput","","placeholder","Nit o nombre",3,"keyup"],["matSuffix",""],["mat-raised-button","","color","primary","routerLink","create",1,"float-end"],["mat-table","",1,"mat-elevation-z1","w-100",3,"dataSource"],["matColumnDef","nit"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","phone"],["matColumnDef","email"],["matColumnDef","stronghold"],["matColumnDef","tic"],["matColumnDef","actions"],["mat-header-cell","","style","text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell","",2,"text-align","center"],["mat-cell","",2,"text-align","center"],["mat-mini-fab","",2,"margin-left","5px",3,"click"],["mat-mini-fab","","color","primary",2,"margin-left","5px",3,"routerLink"],["mat-mini-fab","","color","warn",2,"margin-left","5px",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(a,n){1&a&&(t.TgZ(0,"mat-card"),t.TgZ(1,"h1",0),t._uU(2,"Empresas registradas"),t.qZA(),t.TgZ(3,"div"),t.TgZ(4,"mat-form-field",1),t.TgZ(5,"mat-label"),t._uU(6,"Buscar empresa"),t.qZA(),t.TgZ(7,"input",2),t.NdJ("keyup",function(s){return n.applyFilter(s)}),t.qZA(),t.TgZ(8,"mat-icon",3),t._uU(9,"search"),t.qZA(),t.qZA(),t.TgZ(10,"a",4),t._uU(11,"Agregar empresa"),t.qZA(),t.qZA(),t.TgZ(12,"table",5),t.ynx(13,6),t.YNc(14,N,2,0,"th",7),t.YNc(15,D,2,1,"td",8),t.BQk(),t.ynx(16,9),t.YNc(17,S,2,0,"th",7),t.YNc(18,k,2,1,"td",8),t.BQk(),t.ynx(19,10),t.YNc(20,w,2,0,"th",7),t.YNc(21,L,2,1,"td",8),t.BQk(),t.ynx(22,11),t.YNc(23,R,2,0,"th",7),t.YNc(24,Y,3,1,"td",8),t.BQk(),t.ynx(25,12),t.YNc(26,E,2,0,"th",7),t.YNc(27,O,3,1,"td",8),t.BQk(),t.ynx(28,13),t.YNc(29,Q,2,0,"th",7),t.YNc(30,J,3,1,"td",8),t.BQk(),t.ynx(31,14),t.YNc(32,M,2,0,"th",15),t.YNc(33,F,9,3,"td",16),t.BQk(),t.YNc(34,B,1,0,"tr",17),t.YNc(35,P,1,0,"tr",18),t.qZA(),t._UZ(36,"mat-paginator",19),t.qZA()),2&a&&(t.xp6(12),t.Q6J("dataSource",n.dataSource),t.xp6(22),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns),t.xp6(1),t.Q6J("pageSizeOptions",t.DdM(4,j)))},directives:[g.a8,c.KE,c.hX,h.Nt,y.Hw,c.R9,u.zs,p.yS,l.BZ,l.w1,l.fO,l.ge,l.Dz,l.ev,u.lW,l.as,l.XQ,l.nj,l.Gk,I.NW],styles:[""]}),e})();var i=r(3075),C=r(9814);let $=(()=>{class e{constructor(a,n,m,s){this.fb=a,this.companiesS=n,this.router=m,this.snackBar=s,this.form=this.fb.group({nit:[null,i.kI.required],name:[null,i.kI.required],phone:[null,i.kI.required],email:[null],stronghold:["0",i.kI.required],tic:[null,i.kI.compose([i.kI.min(1),i.kI.max(10)])]})}ngOnInit(){}trySave(a){if(this.form.valid){a._elementRef.nativeElement.disabled=!0,a._elementRef.nativeElement.classList.add("mat-button-disabled");let n=this.form.get("name");n.setValue(n.value.toUpperCase()),this.companiesS.save(this.form.value).subscribe({next:m=>{"success"===m.type&&(this.snackBar.open(`La empresa ${this.form.value.name} se ha agregado satisfactoriamente.`,"Ok",{horizontalPosition:"end",verticalPosition:"top",duration:3500}),this.router.navigate(["/dashboard/companies"]))},error:()=>{this.snackBar.open("Ocurri\xf3 un en error en el servidor, por favor intenta de nuevo","Ok",{horizontalPosition:"end",verticalPosition:"top"}),a._elementRef.nativeElement.disabled=!1,a._elementRef.nativeElement.classList.remove("mat-button-disabled")}})}}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(i.qu),t.Y36(T.t),t.Y36(p.F0),t.Y36(A.ux))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-create-company"]],decls:60,vars:1,consts:[["mat-raised-button","","color","warn","routerLink","../",1,"float-start"],[1,"title"],[1,"row","justify-content-md-center"],[1,"col-8","offeset-2"],[3,"formGroup","ngSubmit"],[1,"row","mb-4"],[1,"col-4","mb-3"],["appearance","fill",1,"w-100"],["matInput","","placeholder","NIT","formControlName","nit","required",""],[1,"col-8"],["matInput","","placeholder","Nombre","formControlName","name","required","",1,"input-uppercase"],[1,"col-5"],["matInput","","placeholder","Tel\xe9fono","formControlName","phone","required",""],[1,"col-7","mb-3"],["matInput","","placeholder","Email","formControlName","email"],[1,"col-6"],[1,"text-center"],[1,"mb-2"],["aria-label","Retefuente","color","primary","formControlName","stronghold","required",""],["value","1"],["value","0"],["appearance","fill","floatLabel","always",1,"w-100"],["matInput","","type","number","placeholder","0","formControlName","tic","min","1","max","10"],["matSuffix",""],["mat-raised-button","","color","primary",1,"w-100"],["submitButton",""]],template:function(a,n){if(1&a){const m=t.EpF();t.TgZ(0,"mat-card"),t.TgZ(1,"div"),t.TgZ(2,"a",0),t._uU(3,"Volver"),t.qZA(),t.TgZ(4,"h1",1),t._uU(5,"Registro de empresa"),t.qZA(),t.qZA(),t.TgZ(6,"div",2),t.TgZ(7,"mat-card",3),t.TgZ(8,"form",4),t.NdJ("ngSubmit",function(){t.CHM(m);const d=t.MAs(58);return n.trySave(d)}),t.TgZ(9,"div",5),t.TgZ(10,"div",6),t.TgZ(11,"mat-form-field",7),t.TgZ(12,"mat-label"),t._uU(13,"NIT"),t.qZA(),t._UZ(14,"input",8),t.TgZ(15,"mat-hint"),t._uU(16,"ej. 123456789-1"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",9),t.TgZ(18,"mat-form-field",7),t.TgZ(19,"mat-label"),t._uU(20,"Nombre de la empresa"),t.qZA(),t._UZ(21,"input",10),t.TgZ(22,"mat-hint"),t._uU(23,"ej. Almac\xe9n Triple A"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",11),t.TgZ(25,"mat-form-field",7),t.TgZ(26,"mat-label"),t._uU(27,"Tel\xe9fono"),t.qZA(),t._UZ(28,"input",12),t.TgZ(29,"mat-hint"),t._uU(30,"ej. 3123334466"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",13),t.TgZ(32,"mat-form-field",7),t.TgZ(33,"mat-label"),t._uU(34,"Email"),t.qZA(),t._UZ(35,"input",14),t.TgZ(36,"mat-hint"),t._uU(37,"ej. pedro.lopez@mail.com"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",15),t.TgZ(39,"div",16),t.TgZ(40,"label",17),t._uU(41,"Retefuente"),t.qZA(),t._UZ(42,"br"),t.TgZ(43,"mat-radio-group",18),t.TgZ(44,"mat-radio-button",19),t._uU(45,"Si"),t.qZA(),t.TgZ(46,"mat-radio-button",20),t._uU(47,"No"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",15),t.TgZ(49,"mat-form-field",21),t.TgZ(50,"mat-label"),t._uU(51,"ICA"),t.qZA(),t._UZ(52,"input",22),t.TgZ(53,"span",23),t._uU(54," x 1.000"),t.qZA(),t.TgZ(55,"mat-hint"),t._uU(56,"Vac\xedo si no aplica"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(57,"button",24,25),t._uU(59,"Registrar empresa"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&a&&(t.xp6(8),t.Q6J("formGroup",n.form))},directives:[g.a8,u.zs,p.yS,i._Y,i.JL,i.sg,c.KE,c.hX,h.Nt,i.Fj,i.JJ,i.u,i.Q7,c.bx,C.VQ,C.U0,i.wV,i.qQ,i.Fd,c.R9,u.lW],styles:[".mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}"]}),e})();var V=r(3238),v=r(3742),X=r(370);const G=["tariffList"];function W(e,o){if(1&e&&(t.TgZ(0,"tr"),t.TgZ(1,"th",9),t._uU(2,"Email"),t.qZA(),t.TgZ(3,"td",10),t._uU(4),t.qZA(),t.qZA()),2&e){const a=t.oxw(2);t.xp6(4),t.Oqu(a.company.email)}}function K(e,o){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Nombre"),t.qZA())}function tt(e,o){if(1&e&&(t.TgZ(0,"td",25),t._uU(1),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Oqu(a.names+" "+a.surnames)}}function et(e,o){1&e&&(t.TgZ(0,"th",24),t._uU(1,"Detalles"),t.qZA())}const at=function(e){return["/dashboard/customers",e]};function ot(e,o){if(1&e&&(t.TgZ(0,"td",25),t.TgZ(1,"a",26),t.TgZ(2,"mat-icon"),t._uU(3,"toc"),t.qZA(),t.qZA(),t.qZA()),2&e){const a=o.$implicit;t.xp6(1),t.Q6J("routerLink",t.VKq(1,at,a.id))}}function nt(e,o){1&e&&t._UZ(0,"tr",27)}function it(e,o){1&e&&t._UZ(0,"tr",28)}function mt(e,o){if(1&e&&(t.TgZ(0,"table",17),t.ynx(1,18),t.YNc(2,K,2,0,"th",19),t.YNc(3,tt,2,1,"td",20),t.BQk(),t.ynx(4,21),t.YNc(5,et,2,0,"th",19),t.YNc(6,ot,4,3,"td",20),t.BQk(),t.YNc(7,nt,1,0,"tr",22),t.YNc(8,it,1,0,"tr",23),t.qZA()),2&e){const a=t.oxw(2);t.Q6J("dataSource",a.company.employees),t.xp6(7),t.Q6J("matHeaderRowDef",a.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",a.displayedColumns)}}function rt(e,o){1&e&&(t.TgZ(0,"div",7),t.TgZ(1,"span"),t._uU(2,"A\xfan no hay empleados asignados a esta empresa."),t.qZA(),t.qZA())}function lt(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"mat-card"),t.TgZ(1,"div"),t.TgZ(2,"a",1),t._uU(3,"Volver"),t.qZA(),t.TgZ(4,"h1",2),t._uU(5),t.qZA(),t.qZA(),t.TgZ(6,"div",3),t.TgZ(7,"div",4),t.TgZ(8,"a",5),t._uU(9,"Editar"),t.qZA(),t.qZA(),t.TgZ(10,"div",6),t.TgZ(11,"mat-card"),t.TgZ(12,"mat-card-title",7),t._uU(13,"Informaci\xf3n de la empresa"),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"table",8),t.TgZ(16,"tbody"),t.TgZ(17,"tr"),t.TgZ(18,"th",9),t._uU(19,"NIT"),t.qZA(),t.TgZ(20,"td",10),t._uU(21),t.qZA(),t.qZA(),t.TgZ(22,"tr"),t.TgZ(23,"th",9),t._uU(24,"Tel\xe9fono"),t.qZA(),t.TgZ(25,"td",10),t._uU(26),t.qZA(),t.qZA(),t.YNc(27,W,5,1,"tr",0),t.TgZ(28,"tr"),t.TgZ(29,"th",9),t._uU(30,"Retefuente"),t.qZA(),t.TgZ(31,"td",10),t._uU(32),t.qZA(),t.qZA(),t.TgZ(33,"tr"),t.TgZ(34,"th",9),t._uU(35,"ICA"),t.qZA(),t.TgZ(36,"td",10),t._uU(37),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(38,"br"),t.TgZ(39,"mat-card"),t.TgZ(40,"mat-card-title",7),t._uU(41,"Tarifas especiales"),t.qZA(),t._UZ(42,"br"),t.TgZ(43,"div",11),t.TgZ(44,"button",12),t.NdJ("click",function(){return t.CHM(a),t.oxw().addTariff()}),t._uU(45,"Agregar tarifa especial"),t.qZA(),t.qZA(),t._UZ(46,"app-list-tariffs",13,14),t.qZA(),t.qZA(),t.TgZ(48,"div",6),t.TgZ(49,"mat-card"),t.TgZ(50,"mat-card-title",7),t._uU(51,"Empleados de la empresa"),t.qZA(),t._UZ(52,"br"),t.YNc(53,mt,9,3,"table",15),t.YNc(54,rt,3,0,"div",16),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&e){const a=t.oxw();t.xp6(5),t.hij("Detalles de ",a.company.name,""),t.xp6(16),t.Oqu(a.company.nit),t.xp6(5),t.Oqu(a.company.phone),t.xp6(1),t.Q6J("ngIf",a.company.email),t.xp6(5),t.Oqu(a.company.stronghold?"Si":"No"),t.xp6(5),t.Oqu(a.company.tic?a.company.tic+" x 1.000":"No"),t.xp6(9),t.Q6J("companyInput",a.company.id),t.xp6(7),t.Q6J("ngIf",a.company.employees&&0!=a.company.employees.length),t.xp6(1),t.Q6J("ngIf",a.company.employees&&0==a.company.employees.length)}}let st=(()=>{class e{constructor(a,n,m){this.companiesS=a,this.activatedRoute=n,this.dialogS=m,this.displayedColumns=["fullname","actions"],this.companiesS.getByIdWithEmployees(this.activatedRoute.snapshot.params.ID).subscribe(s=>this.company=s)}ngOnInit(){}ngAfterViewInit(){}addTariff(){this.dialogS.showContainerDialog(V.z,"500px",{controlId:this.company.id,onClose:()=>this.tariffListC.update()})}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(T.t),t.Y36(p.gz),t.Y36(v.x))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-details-company"]],viewQuery:function(a,n){if(1&a&&t.Gf(G,5),2&a){let m;t.iGM(m=t.CRH())&&(n.tariffListC=m.first)}},decls:1,vars:1,consts:[[4,"ngIf"],["mat-raised-button","","color","warn","routerLink","../",1,"float-start"],[1,"title"],[1,"row"],[1,"col-12","mb-3"],["mat-raised-button","","color","accent","routerLink","edit",1,"float-end"],[1,"col-6"],[1,"text-center"],[1,"mat-elevation-z1","w-100","mat-table","text-center"],[1,"mat-header-cell"],[1,"mat-cell"],[1,"text-center","mb-2"],["mat-raised-button","","color","primary",1,"mx-auto",3,"click"],[3,"companyInput"],["tariffList",""],["mat-table","","class","mat-elevation-z1 w-100",3,"dataSource",4,"ngIf"],["class","text-center",4,"ngIf"],["mat-table","",1,"mat-elevation-z1","w-100",3,"dataSource"],["matColumnDef","fullname"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-mini-fab","","color","primary",3,"routerLink"],["mat-header-row",""],["mat-row",""]],template:function(a,n){1&a&&t.YNc(0,lt,55,9,"mat-card",0),2&a&&t.Q6J("ngIf",n.company)},directives:[_.O5,g.a8,u.zs,p.yS,g.n5,u.lW,X.x,l.BZ,l.w1,l.fO,l.ge,l.Dz,l.ev,y.Hw,l.as,l.XQ,l.nj,l.Gk],styles:[".mat-column-actions[_ngcontent-%COMP%]{text-align:center}"]}),e})();var ct=r(4004);const pt=[{path:"",component:H},{path:"create",component:$},{path:":ID",component:st},{path:":ID/edit",component:(()=>{class e{constructor(a,n,m,s,d){this.fb=a,this.companiesS=n,this.router=m,this.activatedRoute=s,this.snackBar=d,this.form=this.fb.group({nit:[null,i.kI.required],name:[null,i.kI.required],phone:[null,i.kI.required],email:[null],stronghold:["0",i.kI.required],tic:[null,i.kI.compose([i.kI.min(1),i.kI.max(10)])],id:[null,i.kI.required]}),this.companiesS.getByIdWithEmployees(this.activatedRoute.snapshot.params.ID).pipe(f=>f).pipe((0,ct.U)(f=>(f.stronghold=f.stronghold+"",f))).subscribe(f=>this.form.patchValue(f))}ngOnInit(){}trySave(a){this.form.valid&&(a._elementRef.nativeElement.disabled=!0,a._elementRef.nativeElement.classList.add("mat-button-disabled"),this.companiesS.update(this.form.value.id,this.form.value).subscribe(n=>{"success"===n.type&&(this.snackBar.open(`La empresa ${this.form.value.name} se ha modificado satisfactoriamente.`,"Ok",{horizontalPosition:"end",verticalPosition:"top",duration:3500}),this.router.navigate(["/dashboard/companies"]))},n=>{this.snackBar.open("Ocurri\xf3 un en error en el servidor, por favor intenta de nuevo","Ok",{horizontalPosition:"end",verticalPosition:"top"}),a._elementRef.nativeElement.disabled=!1,a._elementRef.nativeElement.classList.remove("mat-button-disabled")}))}}return e.\u0275fac=function(a){return new(a||e)(t.Y36(i.qu),t.Y36(T.t),t.Y36(p.F0),t.Y36(p.gz),t.Y36(A.ux))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-company"]],decls:58,vars:1,consts:[["mat-raised-button","","color","warn","routerLink","../",1,"float-start"],[1,"title"],[1,"row","justify-content-md-center"],[1,"col-8","offeset-2"],[3,"formGroup","ngSubmit"],[1,"row","mb-4"],[1,"col-4","mb-3"],["appearance","fill",1,"w-100"],["matInput","","placeholder","NIT","formControlName","nit","required",""],[1,"col-8"],["matInput","","placeholder","Nombre","formControlName","name","required",""],[1,"col-5"],["matInput","","placeholder","Tel\xe9fono","formControlName","phone","required",""],[1,"col-7","mb-3"],["matInput","","placeholder","Email","formControlName","email"],[1,"col-6"],[1,"text-center"],[1,"mb-2"],["aria-label","Retefuente","color","primary","formControlName","stronghold","required",""],["value","1"],["value","0"],["appearance","fill","floatLabel","always"],["matInput","","type","number","placeholder","0","formControlName","tic","min","1","max","10"],["matSuffix",""],["mat-raised-button","","color","primary",1,"w-100"],["submitButton",""]],template:function(a,n){if(1&a){const m=t.EpF();t.TgZ(0,"mat-card"),t.TgZ(1,"div"),t.TgZ(2,"a",0),t._uU(3,"Volver"),t.qZA(),t.TgZ(4,"h1",1),t._uU(5,"Edici\xf3n de empresa"),t.qZA(),t.qZA(),t.TgZ(6,"div",2),t.TgZ(7,"mat-card",3),t.TgZ(8,"form",4),t.NdJ("ngSubmit",function(){t.CHM(m);const d=t.MAs(56);return n.trySave(d)}),t.TgZ(9,"div",5),t.TgZ(10,"div",6),t.TgZ(11,"mat-form-field",7),t.TgZ(12,"mat-label"),t._uU(13,"NIT"),t.qZA(),t._UZ(14,"input",8),t.TgZ(15,"mat-hint"),t._uU(16,"ej. 123456789-1"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",9),t.TgZ(18,"mat-form-field",7),t.TgZ(19,"mat-label"),t._uU(20,"Nombre de la empresa"),t.qZA(),t._UZ(21,"input",10),t.TgZ(22,"mat-hint"),t._uU(23,"ej. Almac\xe9n Triple A"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(24,"div",11),t.TgZ(25,"mat-form-field",7),t.TgZ(26,"mat-label"),t._uU(27,"Tel\xe9fono"),t.qZA(),t._UZ(28,"input",12),t.TgZ(29,"mat-hint"),t._uU(30,"ej. 3123334466"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(31,"div",13),t.TgZ(32,"mat-form-field",7),t.TgZ(33,"mat-label"),t._uU(34,"Email"),t.qZA(),t._UZ(35,"input",14),t.TgZ(36,"mat-hint"),t._uU(37,"ej. pedro.lopez@mail.com"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(38,"div",15),t.TgZ(39,"div",16),t.TgZ(40,"label",17),t._uU(41,"Retefuente"),t.qZA(),t._UZ(42,"br"),t.TgZ(43,"mat-radio-group",18),t.TgZ(44,"mat-radio-button",19),t._uU(45,"Si"),t.qZA(),t.TgZ(46,"mat-radio-button",20),t._uU(47,"No"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(48,"div",15),t.TgZ(49,"mat-form-field",21),t.TgZ(50,"mat-label"),t._uU(51,"ICA"),t.qZA(),t._UZ(52,"input",22),t.TgZ(53,"span",23),t._uU(54,"x 1.000"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(55,"button",24,25),t._uU(57,"Guardar cambios"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()}2&a&&(t.xp6(8),t.Q6J("formGroup",n.form))},directives:[g.a8,u.zs,p.yS,i._Y,i.JL,i.sg,c.KE,c.hX,h.Nt,i.Fj,i.JJ,i.u,i.Q7,c.bx,C.VQ,C.U0,i.wV,i.qQ,i.Fd,c.R9,u.lW],styles:[".mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}"]}),e})()}];let ut=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.Bz.forChild(pt)],p.Bz]}),e})();var dt=r(898);let Zt=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[v.x],imports:[[_.ez,Z.Is,u.ot,h.c]]}),e})();var ft=r(1860);let gt=(()=>{class e{}return e.\u0275fac=function(a){return new(a||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[_.ez,ut,dt.q,i.u5,i.UX,Zt,ft.TariffsModule]]}),e})()}}]);